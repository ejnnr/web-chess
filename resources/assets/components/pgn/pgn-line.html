<pgn-move *ngFor="let move of getMoves(); let i=index" [moveContext]="move" [positionIndex]="basePosition.concat([{'ply': i + 1}])"
    (updatePosition)="onUpdatePosition()">
    <span *ngFor="let subLine of move.childVariations; let j=index">
        (
        <pgn-line [line]="subLine" [basePosition]="basePosition.concat([{'ply': i + 1, 'variation': j}])"
            (updatePosition)="onUpdatePosition()"></pgn-line>
        )
    </span>
</pgn-move>
